{"ast":null,"code":"import { Document } from '../documents.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../document.service\";\nimport * as i2 from \"@angular/router\";\nfunction DocumentEditComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵtext(1, \" The Document Title and Document URL are required fields. \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class DocumentEditComponent {\n  constructor(documentService, router, route) {\n    this.documentService = documentService;\n    this.router = router;\n    this.route = route;\n    this.editMode = false;\n  }\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      console.log('id');\n      console.log(params['id']);\n      this.id = params['id'];\n      if (this.id == undefined || this.id == null) {\n        this.editMode = false;\n        return;\n      }\n      this.originalDocument = this.documentService.getDocument(this.id);\n      if (this.originalDocument == undefined || this.originalDocument == null) {\n        return;\n      }\n      this.editMode = true;\n      this.document = JSON.parse(JSON.stringify(this.originalDocument));\n      console.log('document');\n      console.log(this.document);\n    });\n  }\n  onSubmit(f) {\n    console.log(f);\n    let value = f.value;\n    let newDocument = new Document(this.id, value.name, value.description, value.url, []);\n    console.log(newDocument);\n    console.log(value.name);\n    console.log(this.id);\n    console.log(this.originalDocument);\n    if (this.editMode == true) {\n      this.documentService.updateDocument(this.originalDocument, newDocument);\n      console.log('here');\n    } else {\n      this.documentService.addDocument(newDocument);\n    }\n    console.log(newDocument);\n    this.router.navigateByUrl('/documents');\n  }\n  onCancel() {\n    this.router.navigateByUrl('/documents');\n  }\n}\nDocumentEditComponent.ɵfac = function DocumentEditComponent_Factory(t) {\n  return new (t || DocumentEditComponent)(i0.ɵɵdirectiveInject(i1.DocumentService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\nDocumentEditComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: DocumentEditComponent,\n  selectors: [[\"cms-document-edit\"]],\n  decls: 26,\n  vars: 5,\n  consts: [[1, \"panel\", \"panel-default\"], [1, \"panel-body\"], [\"id\", \"document-edit\", 3, \"ngSubmit\"], [\"f\", \"ngForm\"], [1, \"row\"], [1, \"col-sm-12\", \"form-group\"], [\"for\", \"name\"], [\"type\", \"text\", \"id\", \"name\", \"size\", \"120\", \"max\", \"120\", \"name\", \"name\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\"], [\"for\", \"description\"], [\"type\", \"text\", \"id\", \"description\", \"size\", \"120\", \"max\", \"255\", \"name\", \"description\", 1, \"form-control\", 3, \"ngModel\"], [\"for\", \"url\"], [\"type\", \"text\", \"id\", \"url\", \"size\", \"150\", \"max\", \"255\", \"name\", \"url\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [1, \"col-xs-12\", \"btn-toolbar\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", 3, \"disabled\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"alert\", \"alert-danger\"]],\n  template: function DocumentEditComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r2 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"form\", 2, 3);\n      i0.ɵɵlistener(\"ngSubmit\", function DocumentEditComponent_Template_form_ngSubmit_2_listener() {\n        i0.ɵɵrestoreView(_r2);\n        const _r0 = i0.ɵɵreference(3);\n        return i0.ɵɵresetView(ctx.onSubmit(_r0));\n      });\n      i0.ɵɵelementStart(4, \"div\", 4)(5, \"div\", 5)(6, \"label\", 6);\n      i0.ɵɵtext(7, \"Document Title:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(8, \"input\", 7);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"div\", 4)(10, \"div\", 5)(11, \"label\", 8);\n      i0.ɵɵtext(12, \"Document Description:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(13, \"input\", 9);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(14, \"div\", 4)(15, \"div\", 5)(16, \"label\", 10);\n      i0.ɵɵtext(17, \"Document URL:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(18, \"input\", 11);\n      i0.ɵɵtemplate(19, DocumentEditComponent_div_19_Template, 2, 0, \"div\", 12);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(20, \"div\", 4)(21, \"div\", 13)(22, \"button\", 14);\n      i0.ɵɵtext(23, \"Save\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"button\", 15);\n      i0.ɵɵlistener(\"click\", function DocumentEditComponent_Template_button_click_24_listener() {\n        return ctx.onCancel();\n      });\n      i0.ɵɵtext(25, \"Cancel\");\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(3);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.document == null ? null : ctx.document.name);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.document == null ? null : ctx.document.description);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.document == null ? null : ctx.document.url);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", _r0.valid == false && _r0.touched == true);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"disabled\", !_r0.valid);\n    }\n  },\n  styles: [\"input.ng-invalid[_ngcontent-%COMP%] {\\n    border: 1px solid red;\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZG9jdW1lbnRzL2RvY3VtZW50LWVkaXQvZG9jdW1lbnQtZWRpdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0kscUJBQXFCO0VBQ3ZCIiwic291cmNlc0NvbnRlbnQiOlsiaW5wdXQubmctaW52YWxpZCB7XG4gICAgYm9yZGVyOiAxcHggc29saWQgcmVkO1xuICB9Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAEA,SAASA,QAAQ,QAAQ,oBAAoB;;;;;;IC2C/BC,+BAA8E;IAC5EA,0EACF;IAAAA,iBAAM;;;ADpCpB,OAAM,MAAOC,qBAAqB;EAWhCC,YAAoBC,eAAgC,EAC1CC,MAAc,EACdC,KAAqB;IAFX,oBAAe,GAAfF,eAAe;IACzB,WAAM,GAANC,MAAM;IACN,UAAK,GAALC,KAAK;IATf,aAAQ,GAAY,KAAK;EASU;EAEnCC,QAAQ;IACN,IAAI,CAACD,KAAK,CAACE,MAAM,CAChBC,SAAS,CACPD,MAAc,IAAI;MACjBE,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC;MACjBD,OAAO,CAACC,GAAG,CAACH,MAAM,CAAC,IAAI,CAAC,CAAC;MACzB,IAAI,CAACI,EAAE,GAAGJ,MAAM,CAAC,IAAI,CAAC;MACtB,IAAG,IAAI,CAACI,EAAE,IAAIC,SAAS,IAAI,IAAI,CAACD,EAAE,IAAI,IAAI,EAAC;QACzC,IAAI,CAACE,QAAQ,GAAG,KAAK;QACrB;;MAEF,IAAI,CAACC,gBAAgB,GAAG,IAAI,CAACX,eAAe,CAACY,WAAW,CAAC,IAAI,CAACJ,EAAE,CAAC;MAEjE,IAAG,IAAI,CAACG,gBAAgB,IAAIF,SAAS,IAAI,IAAI,CAACE,gBAAgB,IAAI,IAAI,EAAC;QACrE;;MAEF,IAAI,CAACD,QAAQ,GAAG,IAAI;MACpB,IAAI,CAACG,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAAC,IAAI,CAACL,gBAAgB,CAAC,CAAC;MACjEL,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC;MACvBD,OAAO,CAACC,GAAG,CAAC,IAAI,CAACM,QAAQ,CAAC;IAC5B,CAAC,CACF;EACH;EAEAI,QAAQ,CAACC,CAAS;IAChBZ,OAAO,CAACC,GAAG,CAACW,CAAC,CAAC;IACd,IAAIC,KAAK,GAAGD,CAAC,CAACC,KAAK;IACnB,IAAIC,WAAW,GAAG,IAAIxB,QAAQ,CAAC,IAAI,CAACY,EAAE,EAAEW,KAAK,CAACE,IAAI,EAAEF,KAAK,CAACG,WAAW,EAAEH,KAAK,CAACI,GAAG,EAAE,EAAE,CAAC;IACrFjB,OAAO,CAACC,GAAG,CAACa,WAAW,CAAC;IACxBd,OAAO,CAACC,GAAG,CAACY,KAAK,CAACE,IAAI,CAAC;IACvBf,OAAO,CAACC,GAAG,CAAC,IAAI,CAACC,EAAE,CAAC;IACpBF,OAAO,CAACC,GAAG,CAAC,IAAI,CAACI,gBAAgB,CAAC;IAClC,IAAG,IAAI,CAACD,QAAQ,IAAI,IAAI,EAAC;MACvB,IAAI,CAACV,eAAe,CAACwB,cAAc,CAAC,IAAI,CAACb,gBAAgB,EAAES,WAAW,CAAC;MACvEd,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;KACpB,MACG;MACF,IAAI,CAACP,eAAe,CAACyB,WAAW,CAACL,WAAW,CAAC;;IAE/Cd,OAAO,CAACC,GAAG,CAACa,WAAW,CAAC;IACxB,IAAI,CAACnB,MAAM,CAACyB,aAAa,CAAC,YAAY,CAAC;EACzC;EAEAC,QAAQ;IACN,IAAI,CAAC1B,MAAM,CAACyB,aAAa,CAAC,YAAY,CAAC;EACzC;;AA5DW5B,qBAAqB;mBAArBA,qBAAqB;AAAA;AAArBA,qBAAqB;QAArBA,qBAAqB;EAAA8B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;;MCXlCnC,8BAAiC;MAGUA;QAAAA;QAAA;QAAA,OAAYA,gCAAW;MAAA,EAAC;MAC3DA,8BAAiB;MAEKA,+BAAe;MAAAA,iBAAQ;MACzCA,2BAQW;MACbA,iBAAM;MAGRA,8BAAiB;MAEYA,sCAAqB;MAAAA,iBAAQ;MACtDA,4BAOoC;MACtCA,iBAAM;MAGRA,+BAAiB;MAEIA,8BAAa;MAAAA,iBAAQ;MACtCA,6BAQW;MACTA,yEAEM;MACVA,iBAAM;MAGRA,+BAAiB;MAEwDA,qBAAI;MAAAA,iBAAS;MAClFA,mCAAmE;MAArBA;QAAA,OAASoC,cAAU;MAAA,EAAC;MAACpC,uBAAM;MAAAA,iBAAS;;;;MAxChFA,eAA0B;MAA1BA,yEAA0B;MAe1BA,eAAiC;MAAjCA,gFAAiC;MAcjCA,eAAyB;MAAzBA,wEAAyB;MAEnBA,eAA2C;MAA3CA,gEAA2C;MAQ3CA,eAAqB;MAArBA,qCAAqB","names":["Document","i0","DocumentEditComponent","constructor","documentService","router","route","ngOnInit","params","subscribe","console","log","id","undefined","editMode","originalDocument","getDocument","document","JSON","parse","stringify","onSubmit","f","value","newDocument","name","description","url","updateDocument","addDocument","navigateByUrl","onCancel","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/home/felipe/workspace/cms/src/app/documents/document-edit/document-edit.component.ts","/home/felipe/workspace/cms/src/app/documents/document-edit/document-edit.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Form, NgForm } from '@angular/forms';\nimport { Document } from '../documents.model';\nimport { DocumentService } from '../document.service';\nimport { Router, ActivatedRoute, Params } from '@angular/router';\n\n@Component({\n  selector: 'cms-document-edit',\n  templateUrl: './document-edit.component.html',\n  styleUrls: ['./document-edit.component.css']\n})\nexport class DocumentEditComponent implements OnInit {\n\n  originalDocument: Document; // original unedited doc\n  document: Document; // this is the edited doc\n  editMode: boolean = false;\n\n  id: string;\n\n\n\n\n  constructor(private documentService: DocumentService,\n    private router: Router,\n    private route: ActivatedRoute) { }\n\n  ngOnInit(): void {\n    this.route.params\n    .subscribe(\n      (params: Params) => {\n        console.log('id')\n        console.log(params['id'])\n        this.id = params['id'];\n        if(this.id == undefined || this.id == null){\n          this.editMode = false;\n          return\n        }\n        this.originalDocument = this.documentService.getDocument(this.id);\n\n        if(this.originalDocument == undefined || this.originalDocument == null){\n          return\n        }\n        this.editMode = true;\n        this.document = JSON.parse(JSON.stringify(this.originalDocument));\n        console.log('document')\n        console.log(this.document)\n      }\n    );\n  }\n\n  onSubmit(f: NgForm){\n    console.log(f);\n    let value = f.value;\n    let newDocument = new Document(this.id, value.name, value.description, value.url, [])\n    console.log(newDocument)\n    console.log(value.name)\n    console.log(this.id)\n    console.log(this.originalDocument)\n    if(this.editMode == true){\n      this.documentService.updateDocument(this.originalDocument, newDocument);\n      console.log('here')\n    }\n    else{\n      this.documentService.addDocument(newDocument);\n    }\n    console.log(newDocument)\n    this.router.navigateByUrl('/documents');\n  }\n\n  onCancel(){\n    this.router.navigateByUrl('/documents');\n  }\n\n}","<div class=\"panel panel-default\">\n    <div class=\"panel-body\">\n  \n      <form id=\"document-edit\" #f=\"ngForm\" (ngSubmit)=\"onSubmit(f)\">\n        <div class=\"row\">\n          <div class=\"col-sm-12 form-group\">\n            <label for=\"name\">Document Title:</label>\n            <input\n              type=\"text\"\n              id=\"name\"\n              class=\"form-control\"\n              size=\"120\"\n              max=\"120\"\n              name=\"name\"\n              [ngModel]=\"document?.name\"\n              required>\n          </div>\n        </div>\n  \n        <div class=\"row\">\n          <div class=\"col-sm-12 form-group\">\n            <label for=\"description\">Document Description:</label>\n            <input\n              type=\"text\"\n              id=\"description\"\n              class=\"form-control\"\n              size=\"120\"\n              max=\"255\"\n              name=\"description\"\n              [ngModel]=\"document?.description\">\n          </div>\n        </div>\n  \n        <div class=\"row\">\n          <div class=\"col-sm-12 form-group\">\n            <label for=\"url\">Document URL:</label>\n            <input\n              type=\"text\"\n              id=\"url\"\n              class=\"form-control\"\n              size=\"150\"\n              max=\"255\"\n              name=\"url\"\n              [ngModel]=\"document?.url\"\n              required>\n              <div *ngIf=\"f.valid == false && f.touched == true\" class=\"alert alert-danger\">\n                The Document Title and Document URL are required fields.\n              </div>\n          </div>\n        </div>\n  \n        <div class=\"row\">\n          <div class=\"col-xs-12 btn-toolbar\">\n            <button [disabled]=\"!f.valid\" class=\"btn btn-success\" type=\"submit\" >Save</button>\n            <button class=\"btn btn-primary\" type=\"button\" (click)=\"onCancel()\">Cancel</button>\n          </div>\n        </div>\n  \n      </form>\n  \n    </div>\n  </div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}